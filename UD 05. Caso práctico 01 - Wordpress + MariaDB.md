# UD 05. Caso práctico 01 - Wordpress + MariaDB

1-Crear la red Docker:

Primero creamos la red donde se conectarán los contenedores: docker network create redwp

<img width="627" height="59" alt="captura 1 mariadb aso" src="https://github.com/user-attachments/assets/fcfce962-78eb-46ee-b78c-acef5b2f5b6c" />

Comprueba que se ha creado: docker network ls

<img width="492" height="131" alt="captura 2 mariadb aso" src="https://github.com/user-attachments/assets/70630cc8-2d89-4624-a37e-1f7dc1220312" />

2-Crear contenedor MariaDB (versión 10.6):
Creamos el contenedor de base de datos con persistencia:
docker run --name nuestromariadb \
  --network redwp \
  -v /home/sergi/mariadbdata:/var/lib/mysql \
  -e MARIADB_ROOT_PASSWORD=cefiroot \
  -e MARIADB_USER=cefireuser \
  -e MARIADB_PASSWORD=cefipass \
  -e MARIADB_DATABASE=cefiredb \
  -d mariadb:10.6

<img width="728" height="404" alt="captura 3 mariadb aso" src="https://github.com/user-attachments/assets/0f88d7c8-deed-4f22-9334-d77d8ee59720" />

Comprobar que está funcionando: docker ps

<img width="886" height="98" alt="captura 4 mariadb aso" src="https://github.com/user-attachments/assets/8813ecc5-bc45-4552-8ff5-c1d4a59921ca" />

3-Crear contenedor WordPress:
Ahora creamos el contenedor de WordPress:
docker run --name nuestrowp \
  --network redwp \
  -p 8080:80 \
  -d wordpress
  
<img width="818" height="616" alt="captura 5 mariadb aso" src="https://github.com/user-attachments/assets/5fe87b3f-f8f5-4aa8-a357-bc7efd771e72" />

Comprobar: docker ps

<img width="890" height="131" alt="captura 6 mariadb aso" src="https://github.com/user-attachments/assets/73cdb2c6-8633-4d32-8efe-f3649e65a57c" />

4-Acceder a WordPress desde el navegador

Abre en tu navegador: http://localhost:8080

<img width="889" height="778" alt="captura 7 mariadb aso" src="https://github.com/user-attachments/assets/f8ca117e-2c32-4b8c-93f2-7710f7cba368" />

Ahora deberemos proseguir con la instalación e indicar dónde está el sistema de bases de datos.
Usaremos como nombre de host, el nombre que le dimos al servidor MariaDB. Como usuario y
nombre de base de datos utilizaremos las variables proporcionadas al crear el contenedor
MariaDB. Quedará de forma similar a la siguiente imagen.

<img width="1210" height="791" alt="captura 8 mariadb aso" src="https://github.com/user-attachments/assets/a35f2371-e36a-4aec-ae3b-6165c84603f7" />

Una vez introducidos los datos, si todo es correcto, Wordpress nos informará de que ya podemos
proceder a instalar y configurar nuestro sitio Wordpress.

<img width="882" height="381" alt="captura 9 mariadb aso" src="https://github.com/user-attachments/assets/6708596e-68cc-4035-878c-4b3097dacb66" />

En primer lugar, deberemos parar y eliminar el contenedor “nuestromariadb”.: docker stop nuestromariadb

<img width="562" height="56" alt="captura 10 mariadb aso" src="https://github.com/user-attachments/assets/ba32314a-4a33-4a09-b014-6c6b3c628a30" />

docker rm nuestromariadb:

<img width="534" height="38" alt="captura 11 mariadb aso" src="https://github.com/user-attachments/assets/d1ad30da-058e-4ea2-bc00-0f22051a3337" />
